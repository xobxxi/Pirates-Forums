<?xml version="1.0" encoding="utf-8"?>
<addon addon_id="PiratesNewsFeed" title="Pirates News Feed" version_string="1.0" version_id="1" url="http://piratesforums.com" install_callback_class="" install_callback_method="" uninstall_callback_class="" uninstall_callback_method="">
  <admin_navigation/>
  <admin_permissions/>
  <admin_style_properties/>
  <admin_templates/>
  <code_events/>
  <code_event_listeners>
    <listener event_id="load_class_controller" execute_order="10" callback_class="PiratesNewsFeed_Listener" callback_method="loadClassListener" active="1" description="XenForo_ControllerPublic_Account class"/>
    <listener event_id="template_hook" execute_order="10" callback_class="PiratesNewsFeed_Listener" callback_method="checkNews" active="1" description="Button to check news on pirates site"/>
  </code_event_listeners>
  <cron>
    <entry entry_id="PiratesNewsFeed_AfterNoon" cron_class="PiratesNewsFeed_Model_PiratesNewsFeed" cron_method="runCron" active="1"><![CDATA[{"day_type":"dom","dom":["-1"],"hours":["16"],"minutes":["0"]}]]></entry>
    <entry entry_id="PiratesNewsFeed_Morning" cron_class="PiratesNewsFeed_Model_PiratesNewsFeed" cron_method="runCron" active="1"><![CDATA[{"day_type":"dom","dom":["-1"],"hours":["10"],"minutes":["0"]}]]></entry>
    <entry entry_id="PiratesNewsFeed_Noon" cron_class="PiratesNewsFeed_Model_PiratesNewsFeed" cron_method="runCron" active="1"><![CDATA[{"day_type":"dom","dom":["-1"],"hours":["12"],"minutes":["0"]}]]></entry>
  </cron>
  <email_templates/>
  <optiongroups>
    <group group_id="PiratesNewFeed" display_order="1" debug_only="0"/>
    <option option_id="news_auto_news" edit_format="onoff" data_type="string" can_backup="1">
      <default_value></default_value>
      <edit_format_params>0=No
1=Yes</edit_format_params>
      <sub_options></sub_options>
      <relation group_id="PiratesNewFeed" display_order="50"/>
    </option>
    <option option_id="news_count" edit_format="textbox" data_type="string" can_backup="1">
      <default_value>6</default_value>
      <edit_format_params></edit_format_params>
      <sub_options></sub_options>
      <relation group_id="PiratesNewFeed" display_order="1"/>
    </option>
    <option option_id="news_forum_id" edit_format="textbox" data_type="string" can_backup="1">
      <default_value>2</default_value>
      <edit_format_params></edit_format_params>
      <sub_options></sub_options>
      <relation group_id="PiratesNewFeed" display_order="60"/>
    </option>
    <option option_id="news_group_id" edit_format="textbox" data_type="string" can_backup="1">
      <default_value></default_value>
      <edit_format_params></edit_format_params>
      <sub_options></sub_options>
      <relation group_id="PiratesNewFeed" display_order="0"/>
    </option>
    <option option_id="news_notification_forum" edit_format="textbox" data_type="string" can_backup="1">
      <default_value></default_value>
      <edit_format_params></edit_format_params>
      <sub_options></sub_options>
      <relation group_id="PiratesNewFeed" display_order="10"/>
    </option>
    <option option_id="news_notify_alert" edit_format="onoff" data_type="string" can_backup="1">
      <default_value></default_value>
      <edit_format_params>0=No
1=Yes</edit_format_params>
      <sub_options></sub_options>
      <relation group_id="PiratesNewFeed" display_order="30"/>
    </option>
    <option option_id="news_notify_posters_email" edit_format="onoff" data_type="string" can_backup="1">
      <default_value></default_value>
      <edit_format_params>0=No
1=Yes</edit_format_params>
      <sub_options></sub_options>
      <relation group_id="PiratesNewFeed" display_order="40"/>
    </option>
    <option option_id="news_poster_options" edit_format="select" data_type="string" can_backup="1">
      <default_value>1</default_value>
      <edit_format_params>1=Random (check4news permission)
2=Poster ID (below)
3=Random+Poster ID
4=Current Poster (check4news permission)</edit_format_params>
      <sub_options></sub_options>
      <relation group_id="PiratesNewFeed" display_order="1"/>
    </option>
    <option option_id="news_subscribe_posters" edit_format="onoff" data_type="string" can_backup="1">
      <default_value></default_value>
      <edit_format_params>0=No
1=Yes</edit_format_params>
      <sub_options></sub_options>
      <relation group_id="PiratesNewFeed" display_order="20"/>
    </option>
    <option option_id="news_users" edit_format="textbox" data_type="string" can_backup="1">
      <default_value>2</default_value>
      <edit_format_params></edit_format_params>
      <sub_options></sub_options>
      <relation group_id="PiratesNewFeed" display_order="1"/>
    </option>
  </optiongroups>
  <permissions>
    <permission_groups/>
    <permissions>
      <permission permission_group_id="forum" permission_id="check4Updates" permission_type="flag" default_value="unset" interface_group_id="forumModeratorPermissions" display_order="1"/>
    </permissions>
    <interface_groups/>
  </permissions>
  <phrases>
    <phrase title="are_you_sure_about_posting_these_news" version_id="1" version_string="1.0"><![CDATA[Are you sure about posting these news - ]]></phrase>
    <phrase title="cron_entry_PiratesNewsFeed_AfterNoon" version_id="1" version_string="1.0"><![CDATA[PiratesNewsFeed After Noon Check]]></phrase>
    <phrase title="cron_entry_PiratesNewsFeed_Morning" version_id="1" version_string="1.0"><![CDATA[PiratesNewsFeed Morning Check]]></phrase>
    <phrase title="cron_entry_PiratesNewsFeed_Noon" version_id="1" version_string="1.0"><![CDATA[PiratesNewsFeed Noon Check]]></phrase>
    <phrase title="latest_news_from_pirates_online" version_id="1" version_string="1.0"><![CDATA[Latest News From Pirates Online]]></phrase>
    <phrase title="mark_as_not_posted" version_id="1" version_string="1.0"><![CDATA[Mark as not Posted]]></phrase>
    <phrase title="mark_as_posted" version_id="1" version_string="1.0"><![CDATA[Mark as Posted]]></phrase>
    <phrase title="news_have_been_posted" version_id="1" version_string="1.0"><![CDATA[News Have been Posted. Make sure you refresh the page to reflect changes.]]></phrase>
    <phrase title="option_group_PiratesNewFeed" version_id="1" version_string="1.0"><![CDATA[Pirates New Feed]]></phrase>
    <phrase title="option_group_PiratesNewFeed_description" version_id="1" version_string="1.0"><![CDATA[Fetch news feeds from piratesonline.com]]></phrase>
    <phrase title="option_news_auto_news" version_id="1" version_string="1.0"><![CDATA[Post news Automatically]]></phrase>
    <phrase title="option_news_auto_news_explain" version_id="1" version_string="1.0"><![CDATA[Use Cron to detect and create newly released content/news.]]></phrase>
    <phrase title="option_news_count" version_id="1" version_string="1.0"><![CDATA[News Count]]></phrase>
    <phrase title="option_news_count_explain" version_id="1" version_string="1.0"><![CDATA[How many news are appropriate to be considered latest news?]]></phrase>
    <phrase title="option_news_forum_id" version_id="1" version_string="1.0"><![CDATA[News Forum ID]]></phrase>
    <phrase title="option_news_forum_id_explain" version_id="1" version_string="1.0"><![CDATA[Enter the id of the news forum where news will be posted. Used only if "Post news Automatically" functionality is enabled.]]></phrase>
    <phrase title="option_news_group_id" version_id="1" version_string="1.0"><![CDATA[Group ID]]></phrase>
    <phrase title="option_news_group_id_explain" version_id="1" version_string="1.0"><![CDATA[Group ID defined as "News Reporter"]]></phrase>
    <phrase title="option_news_notification_forum" version_id="1" version_string="1.0"><![CDATA[Notification Forum ID]]></phrase>
    <phrase title="option_news_notification_forum_explain" version_id="1" version_string="1.0"><![CDATA[Create notification thread in specific forum.  Leave empty or 0, if you do not want a new thread on detection of newly detected news.]]></phrase>
    <phrase title="option_news_notify_alert" version_id="1" version_string="1.0"><![CDATA[Notify Alert]]></phrase>
    <phrase title="option_news_notify_alert_explain" version_id="1" version_string="1.0"><![CDATA[Display Notification Alert]]></phrase>
    <phrase title="option_news_notify_posters_email" version_id="1" version_string="1.0"><![CDATA[Notify Email]]></phrase>
    <phrase title="option_news_notify_posters_email_explain" version_id="1" version_string="1.0"><![CDATA[(if "Subscribe Posters" is enabled only) Notify Posters With Email]]></phrase>
    <phrase title="option_news_poster_options" version_id="1" version_string="1.0"><![CDATA[Poster ID Option]]></phrase>
    <phrase title="option_news_poster_options_explain" version_id="1" version_string="1.0"><![CDATA[Define "who" will post the news.]]></phrase>
    <phrase title="option_news_subscribe_posters" version_id="1" version_string="1.0"><![CDATA[Subscribe Posters]]></phrase>
    <phrase title="option_news_subscribe_posters_explain" version_id="1" version_string="1.0"><![CDATA[(Only if Notification Forum ID is specified) add Watch thread/Subscribe Posters to news notification thread. (Not to the actual news thread, just to the thread telling them to post the news)]]></phrase>
    <phrase title="option_news_users" version_id="1" version_string="1.0"><![CDATA[Poster ID]]></phrase>
    <phrase title="option_news_users_explain" version_id="1" version_string="1.0"><![CDATA[News poster user ID. You may enter more than one by separating by comma  (a random id would be picked).]]></phrase>
    <phrase title="permission_forum_check4Updates" version_id="1" version_string="1.0"><![CDATA[check4Updates]]></phrase>
    <phrase title="post_these_news" version_id="1" version_string="1.0"><![CDATA[Post These News!]]></phrase>
    <phrase title="success_generic" version_id="1" version_string="1.0"><![CDATA[The Action Was Performed Successfully.]]></phrase>
    <phrase title="there_was_an_error_action_could_not_be_completed" version_id="1" version_string="1.0"><![CDATA[There was an error, requested action was not completed.]]></phrase>
  </phrases>
  <route_prefixes/>
  <style_properties/>
  <templates>
    <template title="PiratesNewsFeed_generic_error" version_id="1" version_string="1.0"><![CDATA[<div id="a1" class="sectionMain">
<xen:title>{xen:phrase latest_news_from_pirates_online} </xen:title> 
<div style='padding: 15px'>
{xen:phrase there_was_an_error_action_could_not_be_completed}
</div>
</div>



]]></template>
    <template title="PiratesNewsFeed_news_error" version_id="1" version_string="1.0"><![CDATA[<div id="a1" class="sectionMain">
News were not posted. 

<div>
Please try again..
</div>
</div>
]]></template>
    <template title="PiratesNewsFeed_news_posted" version_id="1" version_string="1.0"><![CDATA[<div id="a1" class="sectionMain">
<xen:title>{xen:phrase latest_news_from_pirates_online} </xen:title> 
<div style='padding: 15px'>
{xen:phrase news_have_been_posted}
</div>

</div>]]></template>
    <template title="PiratesNewsFeed_news_success_generic" version_id="1" version_string="1.0"><![CDATA[<div id="a1" class="sectionMain">
<xen:title>{xen:phrase latest_news_from_pirates_online} </xen:title> 
<div style='padding: 15px'>
{xen:phrase success_generic}
</div>
</div>
]]></template>
    <template title="PiratesNewsFeed_news_template" version_id="1" version_string="1.0"><![CDATA[<div id="a1" class="sectionMain">
<xen:title>{xen:phrase latest_news_from_pirates_online} &nbsp;&nbsp; <a class="OverlayTrigger" href="{$refreshLink}" target="_blank"><img src='http://piratesforums.com/data/refresh.png' title='Refresh' border='0'/></a></xen:title> 
	
<xen:foreach loop="$blog" value="$news">
<xen:if is="{$news.stamp}">
<ol>
	<li class="subHeading">
		<a href="{$news.url}" target="_blank">{xen:helper bodytext, $news.title}</a> ( {xen:helper bodytext, $news.date} )
	</li>
	<li>
		<div class="listItemText">
			<div class="commentContent">
			<article>
			<blockquote>
				&nbsp;&nbsp;<a href="{$news.url}" target="_blank">View</a> /
			<xen:if is="{$news.posted}">
			<b>Already Posted <xen:if is="{$news.posted}">({$news.posted})</xen:if></b>

			<xen:if is="{$canManageNews}"> 
			/ <a href="{$news.markNotPosted}" target="_blank" class="OverlayTrigger">{xen:phrase mark_as_not_posted}</a>
			</xen:if>

			<xen:else />
			<a class="OverlayTrigger" href="{$news.postLink}" target="_blank" onclick="var r = confirm(' {xen:phrase are_you_sure_about_posting_these_news} {$news.title}?'); if(!r) { return false; }">{xen:phrase post_these_news}</a>
			
			<xen:if is="{$canManageNews}"> 
			/ <a href="{$news.markPosted}" target="_blank" class="OverlayTrigger">{xen:phrase mark_as_posted}</a>
			</xen:if>

			</xen:if>
			
			</blockquote>
			</article>
			</div>
		</div>
	</li>
</ol>
</xen:if>
</xen:foreach>

</div>
]]></template>
  </templates>
</addon>
