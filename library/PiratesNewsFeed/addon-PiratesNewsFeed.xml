<?xml version="1.0" encoding="utf-8"?>
<addon addon_id="piratesNewsFeed" title="Pirates News Feed" version_string="1.0.0" version_id="4" url="http://piratesforums.com" install_callback_class="" install_callback_method="" uninstall_callback_class="PiratesNewsFeed_Install" uninstall_callback_method="uninstall">
  <admin_navigation/>
  <admin_permissions/>
  <admin_style_properties/>
  <admin_templates/>
  <code_events/>
  <code_event_listeners>
    <listener event_id="template_create" execute_order="10" callback_class="PiratesNewsFeed_Listener" callback_method="templateCreate" active="1" description="Preloads templates"/>
    <listener event_id="template_hook" execute_order="10" callback_class="PiratesNewsFeed_Listener" callback_method="templateHook" active="1" description="Button to check news on pirates site"/>
  </code_event_listeners>
  <cron/>
  <email_templates/>
  <optiongroups>
    <group group_id="piratesNewsFeed" display_order="1000" debug_only="0"/>
    <option option_id="piratesNewsFeed_count" edit_format="spinbox" data_type="string" can_backup="1">
      <default_value>6</default_value>
      <edit_format_params></edit_format_params>
      <sub_options></sub_options>
      <relation group_id="piratesNewsFeed" display_order="0"/>
    </option>
    <option option_id="piratesNewsFeed_forumId" edit_format="spinbox" data_type="string" can_backup="1">
      <default_value>2</default_value>
      <edit_format_params></edit_format_params>
      <sub_options></sub_options>
      <relation group_id="piratesNewsFeed" display_order="5"/>
    </option>
  </optiongroups>
  <permissions>
    <permission_groups/>
    <permissions>
      <permission permission_group_id="general" permission_id="piratesNewsFeed_manage" permission_type="flag" default_value="unset" interface_group_id="generalPermissions" display_order="1000"/>
    </permissions>
    <interface_groups/>
  </permissions>
  <phrases>
    <phrase title="option_group_piratesNewsFeed" version_id="3" version_string="1.0"><![CDATA[Pirates News Feed]]></phrase>
    <phrase title="option_group_piratesNewsFeed_description" version_id="3" version_string="1.0"><![CDATA[Facilitates news posting and management from the official Pirates Online blog.]]></phrase>
    <phrase title="option_piratesNewsFeed_count" version_id="1" version_string="1.0"><![CDATA[News Count]]></phrase>
    <phrase title="option_piratesNewsFeed_count_explain" version_id="3" version_string="1.0"><![CDATA[The number of news items to fetch for management.]]></phrase>
    <phrase title="option_piratesNewsFeed_forumId" version_id="1" version_string="1.0"><![CDATA[News Forum ID]]></phrase>
    <phrase title="option_piratesNewsFeed_forumId_explain" version_id="3" version_string="1.0"><![CDATA[The ID of the forum where news may be checked/posted.]]></phrase>
    <phrase title="permission_general_piratesNewsFeed_manage" version_id="3" version_string="1.0"><![CDATA[Can manage news]]></phrase>
    <phrase title="piratesNewsFeed_check_news" version_id="1" version_string="1.0"><![CDATA[Check News]]></phrase>
    <phrase title="piratesNewsFeed_news_could_not_be_fetched" version_id="3" version_string="1.0"><![CDATA[The news item could not be fetched.]]></phrase>
    <phrase title="piratesNewsFeed_no_news_id" version_id="1" version_string="1.0"><![CDATA[No news ID was specified.]]></phrase>
  </phrases>
  <route_prefixes>
    <route_type type="public">
      <prefix original_prefix="news" class="PiratesNewsFeed_Route_Prefix_News" build_link="data_only"/>
    </route_type>
  </route_prefixes>
  <style_properties/>
  <templates>
    <template title="piratesNewsFeed_forum_link" version_id="3" version_string="1.0"><![CDATA[<a href="{xen:link news}" class="OverlayTrigger">{xen:phrase piratesNewsFeed_check_news}</a>]]></template>
    <template title="piratesNewsFeed_news" version_id="3" version_string="1.0"><![CDATA[<div id="newsContainer" class="sectionMain">
        <div class="primaryContent">
	<xen:title>Latest News From Pirates Online (<a class="OverlayTrigger" href="{xen:link news/refresh-news}">Refresh</a>)</xen:title> 
	
	<xen:foreach loop="$blogs" value="$news">
			<ol>
				<li class="subHeading">
				        {$news.title} ({$news.date})
				</li>
				<li>		
					<a href="{$news.url}" target="_blank">View</a>
                                        <a href="{xen:link news/post-news, $news}">Post</a>
                                        <xen:if is="!{$news.posted}">
					<a href="{xen:link news/mark-posted, $news}">Mark Posted</a>
                                        <xen:else />
                                        <a href="{xen:link news/mark-not/posted, $news}">Mark Not Posted</a>
                                        </xen:if>
				</li>
			</ol>
	</xen:foreach>
        </div>
</div>]]></template>
  </templates>
</addon>
