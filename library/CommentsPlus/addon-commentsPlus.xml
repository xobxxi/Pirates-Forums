<?xml version="1.0" encoding="utf-8"?>
<addon addon_id="commentsPlus" title="Comments Plus" version_string="2.5.0" version_id="8" url="http://piratesforums.com" install_callback_class="CommentsPlus_Install" install_callback_method="install" uninstall_callback_class="CommentsPlus_Install" uninstall_callback_method="uninstall">
  <admin_navigation/>
  <admin_permissions/>
  <admin_style_properties/>
  <admin_templates/>
  <code_events/>
  <code_event_listeners>
    <listener event_id="load_class_controller" execute_order="10" callback_class="CommentsPlus_Listener" callback_method="loadClassController" active="1" description="Extends controllers"/>
    <listener event_id="load_class_datawriter" execute_order="10" callback_class="CommentsPlus_Listener" callback_method="loadClassDatawriter" active="1" description="Extends datawriters"/>
    <listener event_id="load_class_model" execute_order="10" callback_class="CommentsPlus_Listener" callback_method="loadClassModel" active="1" description="Extends models"/>
    <listener event_id="template_hook" execute_order="10" callback_class="CommentsPlus_Listener" callback_method="templateHook" active="1" description="Uses template hooks to spit into templates"/>
  </code_event_listeners>
  <cron/>
  <email_templates/>
  <optiongroups/>
  <permissions>
    <permission_groups/>
    <permissions/>
    <interface_groups/>
  </permissions>
  <phrases>
    <phrase title="commentsPlus_edit_profile_post_comment_by_x" version_id="1" version_string="1.0.0"><![CDATA[Edit Profile Post Comment by {name}]]></phrase>
    <phrase title="commentsPlus_likes_your_comment_on_profile_post" version_id="7" version_string="2.0.1"><![CDATA[Likes your comment on a profile post]]></phrase>
    <phrase title="commentsPlus_like_comment" version_id="2" version_string="1.0.1"><![CDATA[Like Comment]]></phrase>
    <phrase title="commentsPlus_members_who_liked_this_comment" version_id="2" version_string="1.0.1"><![CDATA[Members Who Liked This Comment]]></phrase>
    <phrase title="commentsPlus_no_one_has_liked_this_comment_yet" version_id="2" version_string="1.0.1"><![CDATA[No one has liked this comment yet.]]></phrase>
    <phrase title="commentsPlus_someone_likes_your_comment_on_profile_post" version_id="7" version_string="2.0.1"><![CDATA[Someone likes your comment on a profile post]]></phrase>
    <phrase title="commentsPlus_unlike_comment" version_id="2" version_string="1.0.1"><![CDATA[Unlike Comment]]></phrase>
    <phrase title="commentsPlus_x_liked_your_comment_on_ys_profile_post" version_id="4" version_string="1.1.0"><![CDATA[{name} liked your comment on <a {poster_params}>{poster}'s profile post</a>]]></phrase>
    <phrase title="commentsPlus_x_liked_your_comment_on_ys_status" version_id="4" version_string="1.1.0"><![CDATA[{name} liked your comment on <a {poster_params}>{poster}'s status</a>]]></phrase>
    <phrase title="commentsPlus_you_sure_you_want_to_like_this_comment" version_id="2" version_string="1.0.1"><![CDATA[Are you sure you want to like this comment?]]></phrase>
    <phrase title="commentsPlus_you_sure_you_want_to_unlike_this_comment" version_id="2" version_string="1.0.1"><![CDATA[Are you sure you want to unlike this comment?]]></phrase>
  </phrases>
  <route_prefixes/>
  <style_properties/>
  <templates>
    <template title="alert_profile_post_comment_like" version_id="4" version_string="1.1.0"><![CDATA[<xen:if is="{$content.profile_post.user_id} == {$content.profile_post.profile_user_id}">
	{xen:phrase commentsPlus_x_liked_your_comment_on_ys_status,
		'name={xen:helper username, $user, 'subject'}',
		'poster_params=href="{xen:link profile-posts, $content}" class="PopupItemLink"',
		'poster={$content.profile_post.username}'}.
<xen:else />
	{xen:phrase commentsPlus_x_liked_your_comment_on_ys_profile_post,
		'name={xen:helper username, $user, 'subject'}',
		'poster_params=href="{xen:link profile-posts, $content}" class="PopupItemLink"',
		'poster={$content.profile_post.username}'}.
</xen:if>]]></template>
    <template title="commentsPlus_alert_preferences" version_id="7" version_string="2.0.1"><![CDATA[<li><input type="hidden" name="alertSet[profile_post_comment_like]" value="1" />
	<label><input type="checkbox" value="1" name="alert[profile_post_comment_like]" {xen:checked "!{$alertOptOuts.profile_post_comment_like}"} /> {xen:phrase commentsPlus_likes_your_comment_on_profile_post}</label>
	<p class="hint">{xen:phrase commentsPlus_someone_likes_your_comment_on_profile_post}</p>
</li>]]></template>
    <template title="commentsPlus_comment_like" version_id="3" version_string="1.1.0"><![CDATA[<xen:title>{$user.username} - {xen:if $like, '{xen:phrase commentsPlus_unlike_comment}', '{xen:phrase commentsPlus_like_comment}'}</xen:title>

<xen:navigation>
	<xen:breadcrumb href="{xen:link full:members, $user}">{$user.username}</xen:breadcrumb>
</xen:navigation>

<form action="{xen:link 'profile-posts/comment-like', $profilePost, 'comment={$comment.profile_post_comment_id}'}" method="post" class="xenForm">

	<dl class="ctrlUnit fullWidth">
		<dt></dt>
		<dd>
			<xen:if is="{$like}">
				{xen:phrase commentsPlus_you_sure_you_want_to_unlike_this_comment}
			<xen:else />
				{xen:phrase commentsPlus_you_sure_you_want_to_like_this_comment}
			</xen:if>
		</dd>
	</dl>

	<dl class="ctrlUnit submitUnit">
		<dt></dt>
		<dd><input type="submit" value="{xen:if $like, '{xen:phrase commentsPlus_unlike_comment}', '{xen:phrase commentsPlus_like_comment}'}" accesskey="s" class="button primary" autofocus="true" /></dd>
	</dl>

	<input type="hidden" name="_xfToken" value="{$visitor.csrf_token_page}" />
</form>]]></template>
    <template title="commentsPlus_comment_likes" version_id="2" version_string="1.0.1"><![CDATA[<xen:title>{$comment.username} - {xen:phrase commentsPlus_members_who_liked_this_comment}</xen:title>

<xen:container var="$head.noindex">
	<meta name="robots" content="noindex" />
</xen:container>

<xen:navigation>
	<xen:breadcrumb href="{xen:link full:members, $user}">{$user.username}</xen:breadcrumb>
</xen:navigation>

<div class="section">
	<ol class="overlayScroll">
	<xen:foreach loop="$likes" value="$like">
		<xen:include template="member_list_item">
			<xen:set var="$extraTemplate"><xen:datetime time="$like.like_date" /></xen:set>
			<xen:map from="$like" to="$user" />
		</xen:include>
	</xen:foreach>
	</ol>
	<div class="sectionFooter overlayOnly"><a class="button primary OverlayCloser">{xen:phrase close}</a></div>
</div>]]></template>
    <template title="commentsPlus_profile_post_comment_edit" version_id="1" version_string="1.0.0"><![CDATA[<xen:title>{xen:phrase commentsPlus_edit_profile_post_comment_by_x, 'name={$comment.username}'}</xen:title>

<xen:navigation>
	<xen:breadcrumb href="{xen:link full:members, $user}">{$user.username}</xen:breadcrumb>
</xen:navigation>

<form action="{xen:link 'profile-posts/comment-edit', $profilePost, 'comment={$comment.profile_post_comment_id}'}" method="post" class="xenForm formOverlay">
	<dl class="ctrlUnit">
		<dt><label for="ctrl_message">{xen:phrase message}:</label></dt>
		<dd><textarea name="message" id="ctrl_message" class="textCtrl Elastic" rows="2">{$comment.message}</textarea></dd>
	</dl>

	<dl class="ctrlUnit submitUnit">
		<dt></dt>
		<dd>
			<input type="submit" value="{xen:phrase save_changes}" accesskey="s" class="button primary" />
		</dd>
	</dl>

	<input type="hidden" name="_xfToken" value="{$visitor.csrf_token_page}" />
</form>]]></template>
    <template title="commentsPlus_profile_post_comment_edit_link" version_id="1" version_string="1.0.0"><![CDATA[<xen:if is="{$comment.canEdit}"><a href="{xen:link 'profile-posts/comment-edit', $profilePost, "comment={$comment.profile_post_comment_id}"}" class="OverlayTrigger item control edit"><span></span>{xen:phrase edit}</a></xen:if>]]></template>
    <template title="commentsPlus_profile_post_comment_likes.css" version_id="6" version_string="2.0.0"><![CDATA[.comment .messageSimple.messageResponse
{
        margin-top: 0;
}

.comment .messageSimple
{
        margin: 0;
        padding-bottom: 0;
}

.comment .messageSimple.messageResponse .likesSummary.secondaryContent
{
        background: transparent;
        border: 0;
        padding-left: 0px;
}]]></template>
  </templates>
</addon>
